(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{244:function(_,v,e){"use strict";e.r(v);var d=e(0),o=Object(d.a)({},(function(){var _=this,v=_.$createElement,e=_._self._c||v;return e("ContentSlotsDistributor",{attrs:{"slot-key":_.$parent.slotKey}},[e("h1",{attrs:{id:"flutter环境的搭建"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#flutter环境的搭建"}},[_._v("#")]),_._v(" Flutter环境的搭建")]),_._v(" "),e("p",[_._v("环境的搭建去看官网是最合适不过的，但是环境搭建过程中必然会遇到这样那样的问题，这篇文章就是帮你解决这些问题的，下面环境搭建的步骤我们每个步骤就会将官网说明列出，然后说实际过程中的一些问题")]),_._v(" "),e("h2",{attrs:{id:"系统要求"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#系统要求"}},[_._v("#")]),_._v(" 系统要求")]),_._v(" "),e("h3",{attrs:{id:"_1-官网说明"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-官网说明"}},[_._v("#")]),_._v(" 1. 官网说明")]),_._v(" "),e("p",[_._v("要安装并运行"),e("code",[_._v("Flutter")]),_._v("，您的开发环境必须满足以下最低要求:")]),_._v(" "),e("ul",[e("li",[_._v("操作系统: "),e("code",[_._v("Windows 7")]),_._v("或更高版本 (64-bit)")]),_._v(" "),e("li",[_._v("磁盘空间: 400 MB (不包括"),e("code",[_._v("Android Studio")]),_._v("的磁盘空间).")]),_._v(" "),e("li",[_._v("工具: "),e("code",[_._v("Flutter")]),_._v(" 依赖下面这些命令行工具.")]),_._v(" "),e("li",[e("code",[_._v("Git for Windows")]),_._v(" (Git命令行工具)")])]),_._v(" "),e("p",[_._v("如果已安装"),e("code",[_._v("Git for Windows")]),_._v("，请确保命令提示符或"),e("code",[_._v("PowerShell")]),_._v("中运行 "),e("code",[_._v("git")]),_._v(" 命令，不然在后面运行"),e("code",[_._v("flutter doctor")]),_._v("时将出现"),e("code",[_._v("Unable to find git in your PATH")]),_._v("错误, 此时需要手动添加"),e("code",[_._v("C:\\Program Files\\Git\\bin")]),_._v("至"),e("code",[_._v("Path")]),_._v("系统环境变量中。")]),_._v(" "),e("h3",{attrs:{id:"_2-实际问题"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-实际问题"}},[_._v("#")]),_._v(" 2. 实际问题")]),_._v(" "),e("p",[_._v("本主搭建环境的时候使用的"),e("code",[_._v("window10")]),_._v(",因为"),e("code",[_._v("window10")]),_._v("内置了"),e("code",[_._v("Windows PowerShell 5.0")]),_._v(",所以如果是"),e("code",[_._v("window7")]),_._v("的话"),e("code",[_._v("PowerShell")]),_._v("和"),e("code",[_._v("Git")]),_._v("一个都不能少")]),_._v(" "),e("h2",{attrs:{id:"获取flutter-sdk"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#获取flutter-sdk"}},[_._v("#")]),_._v(" 获取Flutter SDK")]),_._v(" "),e("h3",{attrs:{id:"_1-官网说明-2"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-官网说明-2"}},[_._v("#")]),_._v(" 1. 官网说明")]),_._v(" "),e("p",[_._v("去"),e("code",[_._v("flutter")]),_._v("官网下载其最新可用的安装包，"),e("a",{attrs:{href:"https://flutter.dev/docs/development/tools/sdk/releases#windows",target:"_blank",rel:"noopener noreferrer"}},[_._v("点击下载"),e("OutboundLink")],1),_._v(" ；")]),_._v(" "),e("p",[_._v("注意，"),e("code",[_._v("Flutter")]),_._v("的渠道版本会不停变动，请以"),e("code",[_._v("Flutter")]),_._v("官网为准。另外，在中国大陆地区，要想正常获取安装包列表或下载安装包，可能需要翻墙，读者也可以去"),e("code",[_._v("Flutter github")]),_._v("项目下去下载安装包 。")]),_._v(" "),e("p",[_._v("将安装包"),e("code",[_._v("zip")]),_._v("解压到你想安装"),e("code",[_._v("Flutter SDK")]),_._v("的路径（如："),e("code",[_._v("C:\\src\\flutter")]),_._v("；注意，不要将"),e("code",[_._v("flutter")]),_._v("安装到需要一些高权限的路径如"),e("code",[_._v("C:\\Program Files\\")]),_._v("）。")]),_._v(" "),e("p",[_._v("在"),e("code",[_._v("Flutter")]),_._v("安装目录的"),e("code",[_._v("flutter")]),_._v("文件下找到"),e("code",[_._v("flutter_console.bat")]),_._v("，双击运行并启动"),e("code",[_._v("flutter")]),_._v("命令行，接下来，你就可以在"),e("code",[_._v("Flutter")]),_._v("命令行运行"),e("code",[_._v("flutter")]),_._v("命令了。")]),_._v(" "),e("p",[_._v("注意： 由于一些"),e("code",[_._v("flutter")]),_._v("命令需要联网获取数据，如果您是在国内访问，由于众所周知的原因，直接访问很可能不会成功。 上面的"),e("code",[_._v("PUB_HOSTED_URL")]),_._v("和"),e("code",[_._v("FLUTTER_STORAGE_BASE_URL是google")]),_._v("为国内开发者搭建的临时镜像。详情请参考 "),e("code",[_._v("Using Flutter in China")])]),_._v(" "),e("p",[_._v("上述命令为当前终端窗口临时设置"),e("code",[_._v("PATH")]),_._v("变量。要将"),e("code",[_._v("Flutter")]),_._v("永久添加到路径中，请参阅更新路径。")]),_._v(" "),e("p",[_._v("要更新现有版本的"),e("code",[_._v("Flutter")]),_._v("，请参阅升级"),e("code",[_._v("Flutter")]),_._v("。")]),_._v(" "),e("p",[_._v("更新环境变量\n要在终端运行"),e("code",[_._v("flutter")]),_._v("命令， 你需要添加以下环境变量到系统"),e("code",[_._v("PATH")]),_._v("：")]),_._v(" "),e("ul",[e("li",[_._v("转到 “控制面板>用户帐户>用户帐户>更改我的环境变量”")]),_._v(" "),e("li",[_._v("在“用户变量”下检查是否有名为"),e("code",[_._v("“Path”")]),_._v("的条目:")]),_._v(" "),e("li",[_._v("如果该条目存在, 追加 "),e("code",[_._v("flutter\\bin")]),_._v("的全路径，使用 ; 作为分隔符.")]),_._v(" "),e("li",[_._v("如果条目不存在, 创建一个新用户变量 "),e("code",[_._v("Path")]),_._v(" ，然后将 "),e("code",[_._v("flutter\\bin")]),_._v("的全路径作为它的值.")]),_._v(" "),e("li",[_._v("在“用户变量”下检查是否有名为"),e("code",[_._v("”PUB_HOSTED_URL”")]),_._v("和"),e("code",[_._v("”FLUTTER_STORAGE_BASE_URL”")]),_._v("的条目，如果没有，也添加它们。")]),_._v(" "),e("li",[_._v("重启Windows以应用此更改")])]),_._v(" "),e("h3",{attrs:{id:"_2-实际问题-2"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-实际问题-2"}},[_._v("#")]),_._v(" 2. 实际问题")]),_._v(" "),e("p",[_._v("官网可能说的优点详细，也有点臃肿，总之一句话，下载"),e("code",[_._v("flutter-sdk")]),_._v("的压缩包，将解压文件中的"),e("code",[_._v("bin")]),_._v("文件路径添加到"),e("code",[_._v("Path")]),_._v("中。")]),_._v(" "),e("p",[_._v("这里没有什么大问题，如果你翻不了墙就从官网给的镜像地址下载即可，但是注意"),e("code",[_._v("zip")]),_._v("包要从给的地址中的"),e("code",[_._v("stable channel")]),_._v("下载稳定版，不要从"),e("code",[_._v("Beta channel")]),_._v("下载最新版")]),_._v(" "),e("p",[_._v("另外"),e("code",[_._v("PUB_HOSTED_URL")]),_._v("和"),e("code",[_._v("FLUTTER_STORAGE_BASE_URL是google")]),_._v("可以配也可以不配，本主压根没有管。")]),_._v(" "),e("h2",{attrs:{id:"安装android-studio"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#安装android-studio"}},[_._v("#")]),_._v(" 安装Android Studio")]),_._v(" "),e("h3",{attrs:{id:"_1-官网说明-3"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-官网说明-3"}},[_._v("#")]),_._v(" 1. 官网说明")]),_._v(" "),e("p",[_._v("要为"),e("code",[_._v("Android")]),_._v("开发"),e("code",[_._v("Flutter")]),_._v("应用，您可以使用"),e("code",[_._v("Mac")]),_._v("，"),e("code",[_._v("Windows")]),_._v("或"),e("code",[_._v("Linux（64位）")]),_._v("机器.")]),_._v(" "),e("p",[e("code",[_._v("Flutter")]),_._v("需要安装和配置"),e("code",[_._v("Android Studio")]),_._v(":")]),_._v(" "),e("p",[_._v("下载并安装 (Android Studio)[https://developer.android.com/studio/index.html].")]),_._v(" "),e("p",[_._v("启动"),e("code",[_._v("Android Studio")]),_._v("，然后执行"),e("code",[_._v("“Android Studio安装向导”")]),_._v("。这将安装最新的"),e("code",[_._v("Android SDK")]),_._v("，"),e("code",[_._v("Android SDK")]),_._v("平台工具和"),e("code",[_._v("Android SDK")]),_._v("构建工具，这是"),e("code",[_._v("Flutter")]),_._v("为"),e("code",[_._v("Android")]),_._v("开发时所必需的")]),_._v(" "),e("h3",{attrs:{id:"_2-实际问题-3"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-实际问题-3"}},[_._v("#")]),_._v(" 2. 实际问题")]),_._v(" "),e("p",[_._v("下载"),e("code",[_._v("Android Studio")]),_._v("依旧需要翻墙，因为给的地址的服务器在国外，当然你可以查看一下"),e("code",[_._v("google")]),_._v("给中国开发者留的"),e("a",{attrs:{href:"https://developer.android.google.cn/studio",target:"_blank",rel:"noopener noreferrer"}},[_._v("镜像"),e("OutboundLink")],1),_._v("，从这上面下载也可以, 另外关于"),e("code",[_._v("Android Studio")]),_._v("的说明文档也可以从"),e("a",{attrs:{href:"https://developer.android.google.cn/studio/intro",target:"_blank",rel:"noopener noreferrer"}},[_._v("说明文档"),e("OutboundLink")],1),_._v("上查看")]),_._v(" "),e("p",[_._v("现在是2019年7月10，本主下载的版本时3.4，"),e("code",[_._v("Android Studio")]),_._v("3.4和3.2内置了"),e("code",[_._v("java")]),_._v("环境,我们自己是不用配置额外"),e("code",[_._v("java")]),_._v("环境。你可能在别的博客上看到要自己从"),e("code",[_._v("Oricle")]),_._v("官网上下"),e("code",[_._v("jdk")]),_._v("，然后配置"),e("code",[_._v("java")]),_._v("环境，下载了新版本的"),e("code",[_._v("android studio")]),_._v("，这些步骤直接省略了")]),_._v(" "),e("p",[_._v("下载"),e("code",[_._v("Android Studio")]),_._v("的过程中会提示你下载"),e("code",[_._v("Android SDK")]),_._v(", "),e("code",[_._v("Android SDK Platform-Tools")]),_._v(","),e("code",[_._v("Android SDK Build-Tools")]),_._v(",你都要打上对勾，然后下载")]),_._v(" "),e("p",[_._v("但是官网好像没有配置环境的问题，这里我要详细说一下：")]),_._v(" "),e("ul",[e("li",[_._v("下载完毕后，我们到要新加一个环境变量"),e("code",[_._v("ANDROID_HOME")]),_._v(",路径就是你下载"),e("code",[_._v("Android SDK")]),_._v("时填的路径")]),_._v(" "),e("li",[_._v("然后再"),e("code",[_._v("Path")]),_._v("中新建3个环境，分别是"),e("code",[_._v("%ANDROID_HOME\\emulator%")]),_._v(","),e("code",[_._v("%ANDROID_HOME\\platform-tools``%ANDROID_HOME\\tools")])]),_._v(" "),e("li",[_._v("然后重启电脑")])]),_._v(" "),e("p",[_._v("然后我们在"),e("code",[_._v("cmd")]),_._v("上输入"),e("code",[_._v("adb")]),_._v("检查android的环境变量是否设置正确，然后在输入"),e("code",[_._v("flutter")]),_._v("来检测"),e("code",[_._v("flutter")]),_._v("的环境变量是否生效,但是有的时候输入"),e("code",[_._v("adb")]),_._v("的时候会提示"),e("code",[_._v("adb不是系统内部或者外部的命令")]),_._v("，通常网上给的答案是"),e("code",[_._v("adb.exe")]),_._v("以前是在"),e("code",[_._v("sdk")]),_._v("文件的"),e("code",[_._v("tools")]),_._v("目录下,现在版本的是在"),e("code",[_._v("platform-tools")]),_._v("目录下，所以要将"),e("code",[_._v("platform-tools")]),_._v("也添加在"),e("code",[_._v("Path")]),_._v("中，这个方法显然不可取，因为我们上面的步骤就已经添加了，我的方法是：")]),_._v(" "),e("ul",[e("li",[_._v("进入你的"),e("code",[_._v("android-sdk")]),_._v("目录，在进入"),e("code",[_._v("platform-tools")]),_._v("目录,找到"),e("code",[_._v("adb.exe")]),_._v(","),e("code",[_._v("AdbWinApi.dll")]),_._v(","),e("code",[_._v("AdbWinUsbApi.dll")]),_._v("三个文件，复制")]),_._v(" "),e("li",[_._v("进入"),e("code",[_._v("C：\\用户\\ Administrator")]),_._v("目录下，将上面的三个文件粘贴到这里")])]),_._v(" "),e("p",[_._v("然后我们再去执行"),e("code",[_._v("adb")]),_._v(",就正常了\n(PS:上述问题还可能存在的原因是在下载android-sdk的时候，我修改了默认目录，默认目录是在C盘，如果你没有修改默认目录我猜不会出现这个问题)")]),_._v(" "),e("h2",{attrs:{id:"安装插件"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#安装插件"}},[_._v("#")]),_._v(" 安装插件")]),_._v(" "),e("h3",{attrs:{id:"_1-官网说明-4"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-官网说明-4"}},[_._v("#")]),_._v(" 1. 官网说明")]),_._v(" "),e("p",[_._v("需要安装两个插件:")]),_._v(" "),e("ul",[e("li",[e("p",[e("code",[_._v("Flutter")]),_._v("插件： 支持"),e("code",[_._v("Flutter")]),_._v("开发工作流 (运行、调试、热重载等).")])]),_._v(" "),e("li",[e("p",[e("code",[_._v("Dart")]),_._v("插件： 提供代码分析 (输入代码时进行验证、代码补全等).\n要安装这些:")])]),_._v(" "),e("li",[e("p",[_._v("启动"),e("code",[_._v("Android Studio")]),_._v(".")])]),_._v(" "),e("li",[e("p",[_._v("打开插件首选项 "),e("code",[_._v("(Preferences>Plugins on macOS, File>Settings>Plugins on Windows & Linux)")]),_._v(".")])]),_._v(" "),e("li",[e("p",[_._v("选择"),e("code",[_._v("Browse repositories…")]),_._v(", 选择 "),e("code",[_._v("Flutter")]),_._v("插件并点击 "),e("code",[_._v("install")]),_._v(".")])]),_._v(" "),e("li",[e("p",[_._v("重启"),e("code",[_._v("Android Studio")]),_._v("后插件生效.")])])]),_._v(" "),e("h3",{attrs:{id:"_2-实际问题-4"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-实际问题-4"}},[_._v("#")]),_._v(" 2. 实际问题")]),_._v(" "),e("p",[_._v("关于插件的下载真的坑，因为按照官网的说法压根下载不了总会提示你下载失败，不知道是网的问题还是要翻墙。但是好的是如果你下载失败它会提示"),e("code",[_._v("dart form www.xxxxx.com rquire failed")]),_._v("，你就去给的这个网址上直接下载压缩包，不用解压。")]),_._v(" "),e("p",[_._v("然后在"),e("code",[_._v("android stuido")]),_._v("插件下载面板的右上角的工具通标中有个"),e("code",[_._v("download from disk")]),_._v("的选项，这个就是从本地选择插件文件，我们点击它，分别选择下载好的"),e("code",[_._v("dart")]),_._v("和"),e("code",[_._v("flutter")]),_._v("插件压缩包，即可")]),_._v(" "),e("h2",{attrs:{id:"安装模拟器"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#安装模拟器"}},[_._v("#")]),_._v(" 安装模拟器")]),_._v(" "),e("h3",{attrs:{id:"_1-官网说明-5"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-官网说明-5"}},[_._v("#")]),_._v(" 1. 官网说明")]),_._v(" "),e("p",[_._v("要准备在Android模拟器上运行并测试您的Flutter应用，请按照以下步骤操作：")]),_._v(" "),e("ul",[e("li",[e("p",[_._v("在您的机器上启用 "),e("code",[_._v("VM acceleration")]),_._v(" .")])]),_._v(" "),e("li",[e("p",[_._v("启动 "),e("code",[_._v("Android Studio>Tools>Android>AVD Manager")]),_._v(" 并选择 "),e("code",[_._v("Create Virtual Device")]),_._v(".")])]),_._v(" "),e("li",[e("p",[_._v("选择一个设备并选择 "),e("code",[_._v("Next")]),_._v("。")])]),_._v(" "),e("li",[e("p",[_._v("为要模拟的"),e("code",[_._v("Android")]),_._v("版本选择一个或多个系统映像，然后选择 "),e("code",[_._v("Next")]),_._v(". 建议使用 "),e("code",[_._v("x86")]),_._v(" 或 "),e("code",[_._v("x86_64 image")]),_._v(" .")])]),_._v(" "),e("li",[e("p",[_._v("在 "),e("code",[_._v("Emulated Performance")]),_._v("下, 选择 "),e("code",[_._v("Hardware - GLES 2.0")]),_._v(" 以启用 硬件加速.")])]),_._v(" "),e("li",[e("p",[_._v("验证"),e("code",[_._v("AVD")]),_._v("配置是否正确，然后选择 "),e("code",[_._v("Finish")]),_._v("。\n有关上述步骤的详细信息，请参阅 "),e("code",[_._v("Managing AVDs")]),_._v(".")])]),_._v(" "),e("li",[e("p",[_._v("在 "),e("code",[_._v("Android Virtual Device Manager")]),_._v("中, 点击工具栏的 "),e("code",[_._v("Run")]),_._v("。模拟器启动并显示所选操作系统版本或设备的启动画面.")])]),_._v(" "),e("li",[e("p",[_._v("运行 "),e("code",[_._v("flutter run")]),_._v(" 启动您的设备. 连接的设备名是 "),e("code",[_._v("Android SDK built for <platform>")]),_._v(",其中 "),e("code",[_._v("platform")]),_._v(" 是芯片系列, 如 "),e("code",[_._v("x86")]),_._v(".")])])]),_._v(" "),e("h3",{attrs:{id:"_2-实际问题-5"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-实际问题-5"}},[_._v("#")]),_._v(" 2. 实际问题")]),_._v(" "),e("p",[_._v("如果你是严格按照官网的流程的话，应该是没有问题，但是本主是直接去创建了新的模拟器，然后启动的时候发现启动不了，提示我忘记了，但是有两个关键字，一个是"),e("code",[_._v("Haxm")]),_._v(",还有一个是"),e("code",[_._v("vt-x")]),_._v(",解决的步骤有两个")]),_._v(" "),e("ul",[e("li",[_._v("在"),e("code",[_._v("android studio")]),_._v("的"),e("code",[_._v("SDK tools")]),_._v("查看"),e("code",[_._v("Haxm")]),_._v("是否下载，没有下载就下载")]),_._v(" "),e("li",[_._v("重启计算机，一开始的时候就点击"),e("code",[_._v("F2")]),_._v("进入"),e("code",[_._v("BIOS")]),_._v("界面，进入"),e("code",[_._v("Configuration")]),_._v("，将"),e("code",[_._v("Inter Virtual Technology")]),_._v("修改为"),e("code",[_._v("[Enabled]")]),_._v(",然后点"),e("code",[_._v("F10")]),_._v("退出(退出这一步你要看自己的计算机最下面的提示，我的是"),e("code",[_._v("F10")]),_._v(","),e("code",[_._v("save and exit")]),_._v(")")])]),_._v(" "),e("p",[_._v("这样我们的模拟器就能启动了，注意的是第一次启动的时候很慢，需要几分钟")]),_._v(" "),e("h2",{attrs:{id:"检测"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#检测"}},[_._v("#")]),_._v(" 检测")]),_._v(" "),e("p",[_._v("我们通过在命令行中输入"),e("code",[_._v("flutter doctor")]),_._v("，会检测4条内容，"),e("code",[_._v("协议")]),_._v("，"),e("code",[_._v("android-sdk")]),_._v("，"),e("code",[_._v("两个插件")]),_._v("，"),e("code",[_._v("模拟器的链接")]),_._v("\n后面三个我们在前面的步骤中都解决了，第一个是检测协议的，它会提示你run一个命令，然后你就根据提示去"),e("code",[_._v("run")]),_._v("它提示的命令。这个命令是帮助你同意协议的，需要同意大概4-5条。总之你就根据提示同意即可")]),_._v(" "),e("p",[_._v("当检测全部通过后，我们就可以正式来创建flutter的项目了")])])}),[],!1,null,null,null);v.default=o.exports}}]);